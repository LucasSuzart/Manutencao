import{d as q,a as E,l as b,I as j,c as P,b as V,o as C,e as n,j as i,w as s,h as d,y as f,i as l,x as u,M as D,F as _,r as R,D as W,k as w,t as g,B as H,J as v,K as k,G as J,_ as K}from"./index-CEWcok4S.js";const Q=[{code:"OFF-STD-1",name:"Impressora Offset Padrão",category:"Impressora Offset",manufacturer:"Heidelberg",model:"GTO-52",imageUrl:"/machinas/graficas/maquina-001.jpg"},{code:"GUIL-STD-1",name:"Guilhotina Industrial",category:"Guilhotina",manufacturer:"Polar",model:"115",imageUrl:"/machinas/graficas/guilhotina-115.jpg"},{code:"DOB-STD-1",name:"Dobradeira Stahl T-52",category:"Dobradeira",manufacturer:"Stahl",model:"T-52",imageUrl:"/machinas/graficas/dobradeira-t52.jpg"}],X={class:"page"},Y={class:"page-header"},Z={class:"page-header__actions"},ee={style:{display:"flex","flex-direction":"column",gap:"12px"}},ae=["src"],te={style:{flex:"1"}},oe={style:{"font-weight":"600"}},le={style:{color:"var(--color-text-secondary)","font-size":"12px"}},ie=["onClick"],se={class:"row-actions"},ne={class:"form-grid"},re=q({__name:"AssetList",setup(de){const y=E(),x=J(),p=b(!1),U=j(),L=P(()=>y.assets),c=b(!1),o=b({name:"",code:"",status:"operational",criticality:"medium",category:"",location:"",manufacturer:"",model:""}),T=[{key:"name",label:"Nome"},{key:"code",label:"Código"},{key:"status",label:"Status",format:t=>({operational:"Operacional",down:"Parado",maintenance:"Manutenção",retired:"Retirado"})[t]||t},{key:"criticality",label:"Criticidade",format:t=>({low:"Baixa",medium:"Média",high:"Alta"})[t]||t},{key:"category",label:"Categoria"},{key:"location",label:"Localização",format:t=>{const e=U.locations.find(a=>a.id===t);return e?e.name:t}},{key:"actions",label:"Ações"}];function A(t){x.push({name:"asset-detail",params:{id:t}})}function $(t){x.push({name:"assets-edit",params:{id:t}})}const B=[{value:"operational",label:"Operacional"},{value:"down",label:"Parado"},{value:"maintenance",label:"Manutenção"},{value:"retired",label:"Retirado"}],M=[{value:"low",label:"Baixa"},{value:"medium",label:"Média"},{value:"high",label:"Alta"}];function O(t){const e=[];return t.filter(r=>!r.parentId).forEach(r=>{e.push({value:r.id,label:r.name}),S(r.id,1,e,t)}),e}function S(t,e,a,r){r.filter(m=>m.parentId===t).forEach(m=>{const G="—".repeat(e)+" ";a.push({value:m.id,label:G+m.name+(m.code?` (${m.code})`:"")}),S(m.id,e+1,a,r)})}function z(){o.value={name:"",code:"",status:"operational",criticality:"medium",category:"",location:"",manufacturer:"",model:""}}function h(){!o.value.name||!o.value.code||(y.add({name:o.value.name,code:o.value.code,status:o.value.status,criticality:o.value.criticality,category:o.value.category||void 0,location:o.value.location||void 0,manufacturer:o.value.manufacturer||void 0,model:o.value.model||void 0}),z(),c.value=!1)}function F(t){y.add({name:t.name,code:t.code,status:"operational",criticality:"medium",category:t.category,manufacturer:t.manufacturer,model:t.model,imageUrl:t.imageUrl}),p.value=!1}function I(t){if(!t)return"";if(t.startsWith("data:")||t.startsWith("http"))return t;const e="/Manutencao/";return t.startsWith("/")?e.replace(/\/$/,"")+t:e+t}return(t,e)=>(C(),V("div",X,[n("div",Y,[e[17]||(e[17]=n("div",{class:"page-header__content"},[n("h1",{class:"page-title"},"Ativos"),n("p",{class:"page-subtitle"},"Gerencie todos os ativos da empresa")],-1)),n("div",Z,[i(l(u),{variant:"secondary",onClick:e[0]||(e[0]=f(a=>t.$router.push({name:"assets-locations"}),["prevent"]))},{default:s(()=>[...e[14]||(e[14]=[d("Gerenciar Locais",-1)])]),_:1}),i(l(u),{variant:"ghost",onClick:e[1]||(e[1]=f(a=>p.value=!0,["prevent"]))},{default:s(()=>[...e[15]||(e[15]=[d("Adicionar do Catálogo",-1)])]),_:1}),i(l(u),{variant:"primary",onClick:e[2]||(e[2]=a=>c.value=!0)},{default:s(()=>[...e[16]||(e[16]=[d(" Novo Ativo ",-1)])]),_:1})])]),i(l(H),null,{default:s(()=>[i(l(D),{modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=a=>p.value=a),title:"Catálogo de Ativos",size:"md"},{default:s(()=>[n("div",ee,[(C(!0),V(_,null,R(l(Q),a=>(C(),V("div",{key:a.code,style:{display:"flex","align-items":"center",gap:"12px",padding:"8px",border:"1px solid var(--color-border)","border-radius":"6px"}},[n("img",{src:I(a.imageUrl),alt:"tpl",style:{width:"80px",height:"56px","object-fit":"cover","border-radius":"4px"}},null,8,ae),n("div",te,[n("div",oe,g(a.name),1),n("div",le,g(a.manufacturer)+" — "+g(a.model),1)]),n("div",null,[i(l(u),{size:"sm",variant:"primary",onClick:r=>F(a)},{default:s(()=>[...e[18]||(e[18]=[d("Adicionar",-1)])]),_:1},8,["onClick"])])]))),128))])]),_:1},8,["modelValue"]),i(l(W),{data:L.value,columns:T,searchable:"",sortable:"",striped:"",hoverable:"","empty-text":"Nenhum ativo cadastrado"},{"cell-name":s(({item:a,value:r})=>[n("a",{href:"",onClick:f(N=>A(a.id),["prevent"]),class:"asset-link"},g(r),9,ie)]),"cell-status":s(({value:a})=>[i(l(w),{status:a,type:"asset"},null,8,["status"])]),"cell-criticality":s(({value:a})=>[i(l(w),{status:a,type:"criticality"},null,8,["status"])]),actions:s(({item:a})=>[n("div",se,[i(l(u),{variant:"ghost",size:"sm",onClick:r=>A(a.id)},{default:s(()=>[...e[19]||(e[19]=[d("Ver",-1)])]),_:1},8,["onClick"]),i(l(u),{variant:"secondary",size:"sm",onClick:r=>$(a.id)},{default:s(()=>[...e[20]||(e[20]=[d("Editar",-1)])]),_:1},8,["onClick"])])]),_:1},8,["data"])]),_:1}),i(l(D),{modelValue:c.value,"onUpdate:modelValue":e[13]||(e[13]=a=>c.value=a),title:"Novo Ativo",size:"md"},{footer:s(()=>[i(l(u),{variant:"ghost",onClick:e[12]||(e[12]=a=>c.value=!1)},{default:s(()=>[...e[21]||(e[21]=[d(" Cancelar ",-1)])]),_:1}),i(l(u),{variant:"primary",onClick:h},{default:s(()=>[...e[22]||(e[22]=[d(" Criar Ativo ",-1)])]),_:1})]),default:s(()=>[n("form",{onSubmit:f(h,["prevent"])},[n("div",ne,[i(l(v),{modelValue:o.value.name,"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.name=a),label:"Nome do Ativo",placeholder:"Digite o nome do ativo",required:""},null,8,["modelValue"]),i(l(v),{modelValue:o.value.code,"onUpdate:modelValue":e[5]||(e[5]=a=>o.value.code=a),label:"Código",placeholder:"Digite o código do ativo",required:""},null,8,["modelValue"]),i(l(k),{modelValue:o.value.status,"onUpdate:modelValue":e[6]||(e[6]=a=>o.value.status=a),label:"Status",options:B,required:""},null,8,["modelValue"]),i(l(k),{modelValue:o.value.criticality,"onUpdate:modelValue":e[7]||(e[7]=a=>o.value.criticality=a),label:"Criticidade",options:M,required:""},null,8,["modelValue"]),i(l(v),{modelValue:o.value.category,"onUpdate:modelValue":e[8]||(e[8]=a=>o.value.category=a),label:"Categoria",placeholder:"Ex: Equipamento, Veículo, etc."},null,8,["modelValue"]),i(l(k),{modelValue:o.value.location,"onUpdate:modelValue":e[9]||(e[9]=a=>o.value.location=a),label:"Localização",options:O(l(U).locations),placeholder:"Selecione a localização"},null,8,["modelValue","options"]),i(l(v),{modelValue:o.value.manufacturer,"onUpdate:modelValue":e[10]||(e[10]=a=>o.value.manufacturer=a),label:"Fabricante",placeholder:"Digite o fabricante"},null,8,["modelValue"]),i(l(v),{modelValue:o.value.model,"onUpdate:modelValue":e[11]||(e[11]=a=>o.value.model=a),label:"Modelo",placeholder:"Digite o modelo"},null,8,["modelValue"])])],32)]),_:1},8,["modelValue"])]))}}),me=K(re,[["__scopeId","data-v-b0bea188"]]);export{me as default};

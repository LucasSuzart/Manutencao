import{d as w,a as N,I as D,c as q,m as g,b as E,o as I,e as u,j as o,w as s,h as c,x as C,i as t,s as v,D as O,k,B as $,J as m,K as p,M as z,_ as F}from"./index-hUmahst3.js";const G={class:"page"},P={class:"page-header"},R={class:"page-header__actions"},T={class:"form-grid"},j=w({__name:"AssetList",setup(J){const f=N(),b=D(),A=q(()=>f.assets),r=g(!1),l=g({name:"",code:"",status:"operational",criticality:"medium",category:"",location:"",manufacturer:"",model:""}),x=[{key:"name",label:"Nome"},{key:"code",label:"Código"},{key:"status",label:"Status",format:i=>({operational:"Operacional",down:"Parado",maintenance:"Manutenção",retired:"Retirado"})[i]||i},{key:"criticality",label:"Criticidade",format:i=>({low:"Baixa",medium:"Média",high:"Alta"})[i]||i},{key:"category",label:"Categoria"},{key:"location",label:"Localização",format:i=>{const e=b.locations.find(a=>a.id===i);return e?e.name:i}}],B=[{value:"operational",label:"Operacional"},{value:"down",label:"Parado"},{value:"maintenance",label:"Manutenção"},{value:"retired",label:"Retirado"}],L=[{value:"low",label:"Baixa"},{value:"medium",label:"Média"},{value:"high",label:"Alta"}];function M(i){const e=[];return i.filter(n=>!n.parentId).forEach(n=>{e.push({value:n.id,label:n.name}),V(n.id,1,e,i)}),e}function V(i,e,a,n){n.filter(d=>d.parentId===i).forEach(d=>{const U="—".repeat(e)+" ";a.push({value:d.id,label:U+d.name+(d.code?` (${d.code})`:"")}),V(d.id,e+1,a,n)})}function S(){l.value={name:"",code:"",status:"operational",criticality:"medium",category:"",location:"",manufacturer:"",model:""}}function y(){!l.value.name||!l.value.code||(f.add({name:l.value.name,code:l.value.code,status:l.value.status,criticality:l.value.criticality,category:l.value.category||void 0,location:l.value.location||void 0,manufacturer:l.value.manufacturer||void 0,model:l.value.model||void 0}),S(),r.value=!1)}return(i,e)=>(I(),E("div",G,[u("div",P,[e[14]||(e[14]=u("div",{class:"page-header__content"},[u("h1",{class:"page-title"},"Ativos"),u("p",{class:"page-subtitle"},"Gerencie todos os ativos da empresa")],-1)),u("div",R,[o(t(v),{variant:"secondary",onClick:e[0]||(e[0]=C(a=>i.$router.push({name:"assets-locations"}),["prevent"]))},{default:s(()=>[...e[12]||(e[12]=[c("Gerenciar Locais",-1)])]),_:1}),o(t(v),{variant:"primary",onClick:e[1]||(e[1]=a=>r.value=!0)},{default:s(()=>[...e[13]||(e[13]=[c(" Novo Ativo ",-1)])]),_:1})])]),o(t($),null,{default:s(()=>[o(t(O),{data:A.value,columns:x,searchable:"",sortable:"",striped:"",hoverable:"","empty-text":"Nenhum ativo cadastrado"},{"cell-status":s(({value:a})=>[o(t(k),{status:a,type:"asset"},null,8,["status"])]),"cell-criticality":s(({value:a})=>[o(t(k),{status:a,type:"criticality"},null,8,["status"])]),_:1},8,["data"])]),_:1}),o(t(z),{modelValue:r.value,"onUpdate:modelValue":e[11]||(e[11]=a=>r.value=a),title:"Novo Ativo",size:"md"},{footer:s(()=>[o(t(v),{variant:"ghost",onClick:e[10]||(e[10]=a=>r.value=!1)},{default:s(()=>[...e[15]||(e[15]=[c(" Cancelar ",-1)])]),_:1}),o(t(v),{variant:"primary",onClick:y},{default:s(()=>[...e[16]||(e[16]=[c(" Criar Ativo ",-1)])]),_:1})]),default:s(()=>[u("form",{onSubmit:C(y,["prevent"])},[u("div",T,[o(t(m),{modelValue:l.value.name,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.name=a),label:"Nome do Ativo",placeholder:"Digite o nome do ativo",required:""},null,8,["modelValue"]),o(t(m),{modelValue:l.value.code,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.code=a),label:"Código",placeholder:"Digite o código do ativo",required:""},null,8,["modelValue"]),o(t(p),{modelValue:l.value.status,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.status=a),label:"Status",options:B,required:""},null,8,["modelValue"]),o(t(p),{modelValue:l.value.criticality,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.criticality=a),label:"Criticidade",options:L,required:""},null,8,["modelValue"]),o(t(m),{modelValue:l.value.category,"onUpdate:modelValue":e[6]||(e[6]=a=>l.value.category=a),label:"Categoria",placeholder:"Ex: Equipamento, Veículo, etc."},null,8,["modelValue"]),o(t(p),{modelValue:l.value.location,"onUpdate:modelValue":e[7]||(e[7]=a=>l.value.location=a),label:"Localização",options:M(t(b).locations),placeholder:"Selecione a localização"},null,8,["modelValue","options"]),o(t(m),{modelValue:l.value.manufacturer,"onUpdate:modelValue":e[8]||(e[8]=a=>l.value.manufacturer=a),label:"Fabricante",placeholder:"Digite o fabricante"},null,8,["modelValue"]),o(t(m),{modelValue:l.value.model,"onUpdate:modelValue":e[9]||(e[9]=a=>l.value.model=a),label:"Modelo",placeholder:"Digite o modelo"},null,8,["modelValue"])])],32)]),_:1},8,["modelValue"])]))}}),Q=F(j,[["__scopeId","data-v-a9d650a3"]]);export{Q as default};

import{d as C,O as U,l as b,c as x,b as I,o as f,e as n,f as M,g as N,j as o,w as u,h as r,i as t,x as v,t as y,A as q,D as w,z as A,B,J as i,K as S,y as D,M as _,_ as z}from"./index-CEWcok4S.js";const $={class:"page"},E={class:"page-header"},F={class:"page-header__actions"},L={class:"form-grid"},K={class:"form-full-width"},O=C({__name:"InventoryView",setup(P){const m=U(),s=b(!1),l=b({sku:"",name:"",unit:"pc",minQty:0,cost:0,description:"",location:""}),V=[{key:"sku",label:"SKU"},{key:"name",label:"Nome"},{key:"currentQty",label:"Quantidade Atual"},{key:"minQty",label:"Quantidade Mínima"},{key:"cost",label:"Custo Unitário",format:d=>`R$ ${d.toFixed(2)}`},{key:"unit",label:"Unidade"},{key:"location",label:"Localização"}],k=[{value:"pc",label:"Peça"},{value:"kg",label:"Quilograma"},{value:"L",label:"Litro"},{value:"m",label:"Metro"},{value:"m²",label:"Metro Quadrado"},{value:"m³",label:"Metro Cúbico"}],p=x(()=>m.items.filter(d=>d.currentQty<=d.minQty));function g(){l.value={sku:"",name:"",unit:"pc",minQty:0,cost:0,description:"",location:""}}function c(){!l.value.name||!l.value.sku||(m.add({sku:l.value.sku,name:l.value.name,unit:l.value.unit,currentQty:0,minQty:l.value.minQty,cost:l.value.cost,description:l.value.description||void 0,location:l.value.location||void 0}),g(),s.value=!1)}return(d,e)=>(f(),I("div",$,[n("div",E,[e[11]||(e[11]=n("div",{class:"page-header__content"},[n("h1",{class:"page-title"},"Estoque"),n("p",{class:"page-subtitle"},"Controle de inventário e materiais")],-1)),n("div",F,[o(t(v),{variant:"primary",onClick:e[0]||(e[0]=a=>s.value=!0)},{default:u(()=>[...e[10]||(e[10]=[r(" Novo Item ",-1)])]),_:1})])]),p.value.length>0?(f(),M(t(q),{key:0,type:"warning",title:"Atenção",class:"mb-lg"},{default:u(()=>[r(y(p.value.length)+" item(ns) com estoque baixo ou esgotado. ",1)]),_:1})):N("",!0),o(t(B),null,{default:u(()=>[o(t(w),{data:t(m).items,columns:V,searchable:"",sortable:"",striped:"",hoverable:"","empty-text":"Nenhum item no estoque"},{"cell-currentQty":u(({value:a,item:Q})=>[n("span",{class:A({"text-error":a<=Q.minQty})},y(a),3)]),_:1},8,["data"])]),_:1}),o(t(_),{modelValue:s.value,"onUpdate:modelValue":e[9]||(e[9]=a=>s.value=a),title:"Novo Item de Estoque",size:"md"},{footer:u(()=>[o(t(v),{variant:"ghost",onClick:e[8]||(e[8]=a=>s.value=!1)},{default:u(()=>[...e[12]||(e[12]=[r(" Cancelar ",-1)])]),_:1}),o(t(v),{variant:"primary",onClick:c},{default:u(()=>[...e[13]||(e[13]=[r(" Adicionar Item ",-1)])]),_:1})]),default:u(()=>[n("form",{onSubmit:D(c,["prevent"])},[n("div",L,[o(t(i),{modelValue:l.value.sku,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.sku=a),label:"SKU",placeholder:"Código do produto",required:""},null,8,["modelValue"]),o(t(i),{modelValue:l.value.name,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.name=a),label:"Nome do Item",placeholder:"Nome do produto",required:""},null,8,["modelValue"]),o(t(S),{modelValue:l.value.unit,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.unit=a),label:"Unidade",options:k,required:""},null,8,["modelValue"]),o(t(i),{modelValue:l.value.minQty,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.minQty=a),modelModifiers:{number:!0},label:"Quantidade Mínima",type:"number",placeholder:"0",required:""},null,8,["modelValue"]),o(t(i),{modelValue:l.value.cost,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.cost=a),modelModifiers:{number:!0},label:"Custo Unitário (R$)",type:"number",step:"0.01",placeholder:"0.00",required:""},null,8,["modelValue"]),o(t(i),{modelValue:l.value.location,"onUpdate:modelValue":e[6]||(e[6]=a=>l.value.location=a),label:"Localização",placeholder:"Ex: Almoxarifado A, Prateleira 3"},null,8,["modelValue"]),n("div",K,[o(t(i),{modelValue:l.value.description,"onUpdate:modelValue":e[7]||(e[7]=a=>l.value.description=a),label:"Descrição",placeholder:"Descrição detalhada do item"},null,8,["modelValue"])])])],32)]),_:1},8,["modelValue"])]))}}),T=z(O,[["__scopeId","data-v-70786a94"]]);export{T as default};

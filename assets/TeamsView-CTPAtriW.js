import{d as N,p as x,l as T,c as g,b as v,o as m,e as s,j as i,w as o,h as r,i as t,x as p,t as c,B as f,D as S,z as w,J as k,K as F,g as B,N as D,F as M,r as U,y as A,M as q,_ as z}from"./index-CEWcok4S.js";const j={class:"page"},K={class:"page-header"},O={class:"page-header__actions"},$={class:"stats-grid"},H={class:"stat"},G={class:"stat__value"},J={class:"stat"},L={class:"stat__value"},R={class:"stat"},P={class:"stat__value"},Q={class:"form-grid"},W={class:"form-full-width"},X={class:"skills-input"},Y={key:0,class:"skills-list"},Z=["onClick"],ee=N({__name:"TeamsView",setup(le){const u=x(),d=T(!1),l=T({name:"",role:"Técnico",email:"",phone:"",skills:[],skillInput:""}),V=[{key:"name",label:"Nome"},{key:"role",label:"Função"},{key:"email",label:"E-mail"},{key:"phone",label:"Telefone"},{key:"active",label:"Status",format:n=>n?"Ativo":"Inativo"},{key:"skills",label:"Habilidades",format:n=>n.join(", ")||"-"}],h=[{value:"Técnico",label:"Técnico"},{value:"Técnico Mecânico",label:"Técnico Mecânico"},{value:"Técnico Elétrico",label:"Técnico Elétrico"},{value:"Técnico Eletrônico",label:"Técnico Eletrônico"},{value:"Engenheiro",label:"Engenheiro"},{value:"Supervisor",label:"Supervisor"}],y=g(()=>u.technicians.filter(n=>n.active)),C=g(()=>{const n=u.technicians.reduce((e,a)=>(e[a.role]=(e[a.role]||0)+1,e),{});return Object.entries(n).map(([e,a])=>({role:e,count:a}))});function I(){l.value={name:"",role:"Técnico",email:"",phone:"",skills:[],skillInput:""}}function b(){l.value.skillInput.trim()&&!l.value.skills.includes(l.value.skillInput.trim())&&(l.value.skills.push(l.value.skillInput.trim()),l.value.skillInput="")}function E(n){const e=l.value.skills.indexOf(n);e>-1&&l.value.skills.splice(e,1)}function _(){l.value.name&&(u.add({name:l.value.name,role:l.value.role,email:l.value.email||void 0,phone:l.value.phone||void 0,active:!0,skills:l.value.skills}),I(),d.value=!1)}return(n,e)=>(m(),v("div",j,[s("div",K,[e[9]||(e[9]=s("div",{class:"page-header__content"},[s("h1",{class:"page-title"},"Equipes"),s("p",{class:"page-subtitle"},"Gerencie técnicos e equipe de manutenção")],-1)),s("div",O,[i(t(p),{variant:"primary",onClick:e[0]||(e[0]=a=>d.value=!0)},{default:o(()=>[...e[8]||(e[8]=[r(" Novo Técnico ",-1)])]),_:1})])]),s("div",$,[i(t(f),null,{default:o(()=>[s("div",H,[s("div",G,c(y.value.length),1),e[10]||(e[10]=s("div",{class:"stat__label"},"Técnicos Ativos",-1))])]),_:1}),i(t(f),null,{default:o(()=>[s("div",J,[s("div",L,c(t(u).technicians.length),1),e[11]||(e[11]=s("div",{class:"stat__label"},"Total de Técnicos",-1))])]),_:1}),i(t(f),null,{default:o(()=>[s("div",R,[s("div",P,c(C.value.length),1),e[12]||(e[12]=s("div",{class:"stat__label"},"Funções Diferentes",-1))])]),_:1})]),i(t(f),null,{default:o(()=>[i(t(S),{data:t(u).technicians,columns:V,searchable:"",sortable:"",striped:"",hoverable:"","empty-text":"Nenhum técnico cadastrado"},{"cell-active":o(({value:a})=>[s("span",{class:w(["status-badge",a?"status-badge--active":"status-badge--inactive"])},c(a?"Ativo":"Inativo"),3)]),_:1},8,["data"])]),_:1}),i(t(q),{modelValue:d.value,"onUpdate:modelValue":e[7]||(e[7]=a=>d.value=a),title:"Novo Técnico",size:"md"},{footer:o(()=>[i(t(p),{variant:"ghost",onClick:e[6]||(e[6]=a=>d.value=!1)},{default:o(()=>[...e[15]||(e[15]=[r(" Cancelar ",-1)])]),_:1}),i(t(p),{variant:"primary",onClick:_},{default:o(()=>[...e[16]||(e[16]=[r(" Adicionar Técnico ",-1)])]),_:1})]),default:o(()=>[s("form",{onSubmit:A(_,["prevent"])},[s("div",Q,[i(t(k),{modelValue:l.value.name,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.name=a),label:"Nome Completo",placeholder:"Digite o nome do técnico",required:""},null,8,["modelValue"]),i(t(F),{modelValue:l.value.role,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.role=a),label:"Função",options:h,required:""},null,8,["modelValue"]),i(t(k),{modelValue:l.value.email,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.email=a),label:"E-mail",placeholder:"email@empresa.com",type:"email"},null,8,["modelValue"]),i(t(k),{modelValue:l.value.phone,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.phone=a),label:"Telefone",placeholder:"(11) 99999-9999"},null,8,["modelValue"]),s("div",W,[e[14]||(e[14]=s("label",{class:"form-field__label"},"Habilidades",-1)),s("div",X,[i(t(k),{modelValue:l.value.skillInput,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.skillInput=a),placeholder:"Digite uma habilidade",onKeyup:D(b,["enter"])},null,8,["modelValue"]),i(t(p),{variant:"outline",size:"sm",onClick:b},{default:o(()=>[...e[13]||(e[13]=[r(" Adicionar ",-1)])]),_:1})]),l.value.skills.length>0?(m(),v("div",Y,[(m(!0),v(M,null,U(l.value.skills,a=>(m(),v("span",{key:a,class:"skill-tag"},[r(c(a)+" ",1),s("button",{type:"button",onClick:ae=>E(a),class:"skill-remove"},"×",8,Z)]))),128))])):B("",!0)])])],32)]),_:1},8,["modelValue"])]))}}),te=z(ee,[["__scopeId","data-v-73401c40"]]);export{te as default};
